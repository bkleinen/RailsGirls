<h1>Listing workshops</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Date</th>
      <th>Description</th>
      <th>Venue</th>
      <th>Status</th>
    </tr>
  </thead>

  <tbody>
    <% @workshops.each do |workshop| %>
      <tr>
        <td><%= workshop.name %></td>
        <td><%= workshop.date %></td>
        <td><%= workshop.description %></td>
        <td><%= workshop.venue %></td>
        <% if workshop.status != nil %>
          <td><%= workshop.status %></td>
        <% else %>
          <td>private</td>
        <% end %>
        <td><%= link_to 'Show', workshop %></td>
        <td><%= link_to 'Edit', edit_workshop_path(workshop) %></td>
        <td><%= link_to 'Destroy', workshop, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% if workshop.participant_form != nil %>
          <td><%= link_to "Show participant_form", { :controller => "forms", :action => "show", :id=>workshop.participant_form.id}%></td>
        <% else %>
          <td><%= link_to 'Add Participant Form', new_form_path(:type => :participant, :workshop_id => workshop.id) %></td>
          <td><%= link_to 'Add excisting Participant Form', { :controller => "forms", :action => "index", :id=>workshop.id, :type=>"participant_form"}%></td>
        <% end %>
        <% if workshop.coach_form != nil %>
          <td><%= link_to "Show coach_form", { :controller => "forms", :action => "show", :id=>workshop.coach_form.id}%></td>
        <% else %>
          <td><%= link_to 'Add Coach Form', new_form_path(:type => :coach, :workshop_id => workshop.id) %></td>
          <td><%= link_to 'Add excisting Coach Form', { :controller => "forms", :action => "index", :id=>workshop.id, :type=>"coach_form"}%></td>
        <% end %>
        <% if workshop.status == nil %>
          <td><%= button_to "Publish Workshop", { :controller => "workshops", :action => "publish", :id=>workshop.id}%></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Workshop', new_workshop_path %>
